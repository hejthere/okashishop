(this.webpackJsonpokashishop=this.webpackJsonpokashishop||[]).push([[0],{56:function(e,t,n){},70:function(e,t,n){},73:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(29),i=n.n(r),s=(n(70),n(56),n(12)),l=n(59),o=n(92),d=n(60),u=n(61),j=n(97),b=n(96),h=n(2);function p(e){return Object(h.jsxs)(j.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",className:"nav-bar",children:[Object(h.jsx)(j.a.Brand,{href:"/",children:"Okashi Shop"}),Object(h.jsx)(j.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(h.jsx)(j.a.Collapse,{id:"responsive-navbar-nav",children:Object(h.jsxs)(b.a,{className:"mr-auto",children:[Object(h.jsx)(b.a.Link,{eventKey:2,onClick:e.cartButton,children:"Cart"}),Object(h.jsx)(b.a.Link,{onClick:e.logOutHandler,children:e.logOutText})]})})]})}n(73);var O=function(e){return Object(h.jsxs)(l.a,{className:"banner-container p-0",fluid:!0,children:[Object(h.jsx)("div",{className:"banner-text",children:"\u3088\u3046\u3053\u305d"}),Object(h.jsx)(d.a,{src:e.backgrounds,className:"banner-image",alt:"background"})]})},m=n.p+"static/media/macha.171402b6.jpg",x=n(25),f=n(15),v=n.n(f),g=(n(77),n(91));function y(e){return Object(h.jsxs)("div",{className:"product-container p-1",children:[Object(h.jsx)(d.a,{className:"product-image",src:e.imgUrl}),Object(h.jsxs)("div",{className:"d-flex justify-content-between my-1",children:[Object(h.jsx)("h4",{children:e.name}),Object(h.jsxs)("h4",{className:"product-price",children:["HK$",e.price]})]}),Object(h.jsx)(g.a,{variant:"info",id:e.id.toString(),onClick:e.addToCartHandler,children:"Add to Cart"})]})}var N=Object(a.createContext)(),k=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(s.a)(n,2),r=c[0],i=c[1];return Object(h.jsx)(N.Provider,{value:{cartItem:r,setCartItem:i},children:t})};function w(){var e=Object(a.useContext)(N),t=(e.cartItem,e.setCartItem,Object(a.useRef)(),Object(a.useState)("")),n=Object(s.a)(t,2),c=(n[0],n[1],Object(a.useState)([])),r=Object(s.a)(c,2),i=r[0],d=r[1],j=Object(a.useState)([]),b=Object(s.a)(j,2),p=b[0],O=b[1],m=Object(a.useCallback)(Object(x.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/hejthere/picture/db");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,d(n.arrayOfProducts||[]);case 7:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){m()}),[m]),Object(a.useEffect)((function(){O(i)}),[i]);var f=p.map((function(e){return Object(h.jsx)(u.a,{className:"py-3 px-0",children:Object(h.jsx)(y,{id:e.id,imgUrl:e.imgUrl,name:e.name,price:e.price,addToCartHandler:function(){},quantity:e.quantity})},e.id)}));return Object(h.jsxs)(l.a,{fluid:!0,className:"overflow-hidden",children:[Object(h.jsxs)(o.a,{xs:1,sm:1,md:2,lg:2,xl:2,children:[Object(h.jsx)(u.a,{children:Object(h.jsx)("h2",{className:"pt-3",children:" Feature Items: "})}),Object(h.jsx)(u.a,{})]}),Object(h.jsxs)(o.a,{className:"m-0 px-1",xs:2,sm:2,md:4,lg:4,xl:4,children:[0===p.length&&Object(h.jsx)("h5",{className:"my-3",children:"No result is found !"}),f]})]})}var C=n.p+"static/media/ocha.dd694839.jpg",I=n.p+"static/media/osara.d2d3cf21.jpg";n(78);function S(){var e=[{id:"tea",picture:C,description:"Looking for tea leaf?",hiddenText:"Order with us!"},{id:"dishes",picture:I,description:"Join our event!",hiddenText:"Coming soon!"}].map((function(e){return Object(h.jsxs)(u.a,{onClick:function(){return function(e){var t=document.getElementById(e);null===t||void 0===t||t.classList.toggle("slide-animation")}(e.id)},className:"p-0 section-container",children:[Object(h.jsx)("div",{className:"section-hidden-text-container",children:Object(h.jsx)("div",{className:"section-hidden-text",children:e.hiddenText})}),Object(h.jsx)(d.a,{id:e.id,className:"section-picture",src:e.picture,fluid:!0}),Object(h.jsx)("div",{className:"section-text-container",children:Object(h.jsx)("div",{className:"section-text px-3",children:e.description})})]},e.description)}));return Object(h.jsx)(l.a,{fluid:!0,className:"p-0",children:Object(h.jsx)(o.a,{xs:1,md:2,lg:2,className:"m-0",children:e})})}var H=n(94);n(79);function P(e){return Object(h.jsxs)(o.a,{children:[Object(h.jsxs)(u.a,{children:[Object(h.jsx)(d.a,{src:e.image,className:"cartItem-image"}),Object(h.jsx)("div",{children:e.name}),Object(h.jsxs)("div",{children:["HK$",e.price]})]}),Object(h.jsxs)(u.a,{children:[Object(h.jsxs)("div",{children:["Quantity: ",e.quantity]}),Object(h.jsxs)(g.a,{variant:"outline-info",id:e.id,onClick:e.addOne,className:e.buttonClassName,children:[" ","+"," "]}),Object(h.jsxs)(g.a,{variant:"outline-info",id:e.id,onClick:e.minusOne,className:e.buttonClassName,children:[" ","-"," "]})]}),Object(h.jsx)(u.a,{children:Object(h.jsxs)("div",{children:["Total Price: HK$",e.totalPrice]})})]})}function q(e){var t=Object(a.useContext)(N),n=t.cartItem;t.setCartItem;Object(a.useEffect)((function(){localStorage.setItem("cartItem",JSON.stringify(null!==n&&void 0!==n?n:""))}),[n]);var c=null===n||void 0===n?void 0:n.map((function(e){return Object(h.jsx)(P,{buttonClassName:"m-1 visible",id:e.id,image:e.imgUrl,name:e.name,price:e.price,quantity:e.quantity,totalPrice:e.quantity*e.price},e.id)}));return Object(h.jsxs)(H.a,{animation:!1,size:"lg",show:e.show,onHide:e.onHide,dialogClassName:"shopping-cart-box","aria-labelledby":"shopping-cart",children:[Object(h.jsx)(H.a.Header,{closeButton:!0,children:Object(h.jsx)(H.a.Title,{id:"shopping-cart-title",children:"Shopping Cart"})}),Object(h.jsxs)(H.a.Body,{children:[n&&0!==n.length?c:Object(h.jsx)("div",{children:"Oops! Nothing is in the cart. "}),Object(h.jsx)("div",{className:"w-100 d-flex justify-content-end",children:n&&n.length>0&&Object(h.jsx)(g.a,{onClick:e.checkOutHandler,variant:"info",children:"Check Out"})})]})]})}var E=n(38),U=(n(80),n(57),E.a.initializeApp({apiKey:"AIzaSyAmLNW3z9Y7u4vv-3UPlw1ZGIYm6qNSESk",authDomain:"okashi-database.firebaseapp.com",databaseURL:"https://okashi-database-default-rtdb.firebaseio.com",projectId:"okashi-database",storageBucket:"okashi-database.appspot.com",messagingSenderId:"94642731681",appId:"1:94642731681:web:3e6e07c07f3155f5724ee0"})),L=U.auth(),A=E.a.database(),B=c.a.createContext();function T(){return Object(a.useContext)(B)}function D(e){var t=e.children,n=Object(a.useState)(),c=Object(s.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)(!0),o=Object(s.a)(l,2),d=o[0],u=o[1];function j(){return(j=Object(x.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.setPersistence(E.a.auth.Auth.Persistence.LOCAL);case 3:return e.next=5,L.createUserWithEmailAndPassword(t,n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(x.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.signInWithEmailAndPassword(t,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function p(){return(p=Object(x.a)(v.a.mark((function e(t,n,a){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=A.ref("user/"+t+"/".concat(Date.now())),e.next=4,c.set({name:n.name,address:n.address,cartItem:n.cartItem,date:a});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}Object(a.useEffect)((function(){return L.onAuthStateChanged((function(e){i(e),u(!1)}))}),[]);var O={currentUser:r,setCurrentUser:i,signUp:function(e,t){return j.apply(this,arguments)},login:function(e,t){return b.apply(this,arguments)},signOut:function(){return L.signOut()},updateCartHistory:function(e,t,n){return p.apply(this,arguments)}};return Object(h.jsx)(B.Provider,{value:O,children:!d&&t})}var R=n(11),K=n(39);var z=n.p+"static/media/door.8492e619.jpg",W=n.p+"static/media/footer.433c862d.png",$=n.p+"static/media/shockobaachan.a4cd1070.png",F=n.p+"static/media/obaachan.746b7b43.png";function J(){var e=T(),t=e.currentUser,n=e.signOut,c=Object(R.g)(),r=Object(a.useState)(!1),i=Object(s.a)(r,2),j=i[0],b=i[1],x=Object(a.useState)(!1),f=Object(s.a)(x,2),v=f[0],g=f[1],y=function(){var e="undefined"!==typeof window;function t(){return{width:e?window.innerWidth:0,height:e?window.innerHeight:0}}var n=Object(a.useState)(t()),c=Object(s.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){if(e){var n=function(){i(t())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}}),[e]),r}(),N=y.height,k=y.width;return Object(h.jsxs)(l.a,{fluid:!0,className:"p-0",children:[Object(h.jsxs)("div",{className:"header-container",children:[Object(h.jsx)(p,{logOutHandler:function(){if(!t)return c.push("/login");n(),alert("You are logged out.")},logOutText:t?"Log Out":"Log In",cartButton:function(){return b(!0)}}),Object(h.jsx)(O,{backgrounds:m})]}),Object(h.jsxs)("div",{className:"scroll-effect-container p-0 m-0",children:[Object(h.jsx)("div",{className:"roof"}),Object(h.jsxs)(o.a,{className:"door-container  p-0 m-0",onClick:function(){return g(!0)},children:[Object(h.jsx)(d.a,{src:$,className:"character shocked-character"}),Object(h.jsx)(d.a,{src:F,className:v?"character disappeared":"character"}),Object(h.jsx)(u.a,{className:"door-col p-0",children:Object(h.jsx)(K.a,{className:"door-parallax",easing:"easeIn",translateX:[N>k?110:100,50],children:Object(h.jsx)(d.a,{src:z,fluid:!0,className:"door door-left"})})}),Object(h.jsx)(u.a,{className:"door-col p-0",children:Object(h.jsx)(K.a,{className:"door-parallax",easing:"easeIn",translateX:[N>k?-10:0,50],children:Object(h.jsx)(d.a,{src:z,fluid:!0,className:"door"})})})]}),Object(h.jsx)(d.a,{src:W,className:"floor"})]}),Object(h.jsx)(S,{}),Object(h.jsx)(w,{}),Object(h.jsx)(q,{checkOutHandler:function(){if(!t)return c.push("/login");c.push("/checkout")},show:j,onHide:function(){return b(!1)}})]})}n(87);var Y=n(23),G=n(95),X=n(98),M=n(93),Q=(n(88),n.p+"static/media/watercolor.0f1ad691.jpeg");function Z(){var e,t=Object(R.h)(),n=Object(a.useRef)(null),c=Object(a.useRef)(null),r=Object(a.useRef)(null),i=Object(R.g)(),j=T(),b=j.signUp,p=j.login,O=Object(a.useState)(),m=Object(s.a)(O,2),f=m[0],y=m[1],N=Object(a.useState)(!0),k=Object(s.a)(N,2),w=k[0],C=k[1],I=[{id:"email",label:"Email",type:"email",ref:n,placeholder:"Enter email"},{id:"password",label:"Password",type:"password",ref:c,placeholder:"Enter password"},{id:"confirmPassword",label:"Confirm Password",type:"password",ref:r,placeholder:"Re-enter password"}],S=I.filter((function(e){return"confirmPassword"!==e.id}));e=(w?S:I).map((function(e){return Object(h.jsxs)(G.a.Group,{children:[Object(h.jsx)(G.a.Label,{children:e.label}),Object(h.jsx)(G.a.Control,{required:!0,type:e.type,ref:e.ref,placeholder:e.placeholder})]},e.id)})),Object(a.useEffect)((function(){"/signup"===t.pathname&&C(!1)}),[t]);function H(){return(H=Object(x.a)(v.a.mark((function e(t){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p(null===n||void 0===n||null===(a=n.current)||void 0===a?void 0:a.value,null===c||void 0===c||null===(r=c.current)||void 0===r?void 0:r.value);case 4:i.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),y("Fail to log in");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function P(){return(P=Object(x.a)(v.a.mark((function e(t){var a,s,l,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(null===c||void 0===c||null===(a=c.current)||void 0===a?void 0:a.value)===(null===r||void 0===r||null===(s=r.current)||void 0===s?void 0:s.value)){e.next=3;break}return e.abrupt("return",y("Password does not match!"));case 3:return e.prev=3,y(""),e.next=7,b(null===n||void 0===n||null===(l=n.current)||void 0===l?void 0:l.value,null===c||void 0===c||null===(o=c.current)||void 0===o?void 0:o.value);case 7:i.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),y("Failed to create account!");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(h.jsxs)(l.a,{className:"login-container",fluid:!0,children:[Object(h.jsx)(d.a,{src:Q,className:"background-image",alt:"background",fluid:!0}),Object(h.jsx)(o.a,{children:Object(h.jsx)(u.a,{children:Object(h.jsxs)("div",{className:"w-100",style:{maxWidth:"700px"},children:[Object(h.jsx)("h1",{children:w?"Log In":"Sign In"}),Object(h.jsx)(X.a,{children:Object(h.jsx)(X.a.Body,{children:Object(h.jsxs)(G.a,{onSubmit:w?function(e){return H.apply(this,arguments)}:function(e){return P.apply(this,arguments)},children:[f&&Object(h.jsx)(M.a,{variant:"danger",children:f}),e,Object(h.jsx)(g.a,{type:"submit",children:w?"Log In":"Sign In"}),Object(h.jsx)(g.a,{className:"mx-3",href:"/",children:"Back"}),Object(h.jsxs)("div",{className:"my-3",children:[w?"Haven't sign up yet ? ":"Already have an account ? ",Object(h.jsx)(Y.b,{onClick:function(){C(!w),y("")},to:w?"/signup":"/login",children:w?"Sign up here":"Log in here"})]})]})})})]})})})]})}function V(){var e=Object(a.useContext)(N),t=e.cartItem,n=e.setCartItem,c=T(),r=c.updateCartHistory,i=c.currentUser,s=Object(a.useRef)(null),o=Object(a.useRef)(null),d=Object(R.g)();var u=[{id:"name",label:"Name",type:"input",ref:s,placeholder:"Enter Name"},{id:"deliveryAddress",label:"Delivery Address",type:"input",ref:o,placeholder:"Enter Address"}].map((function(e){return Object(h.jsxs)(G.a.Group,{children:[Object(h.jsx)(G.a.Label,{children:e.label}),Object(h.jsx)(G.a.Control,{required:!0,type:e.type,ref:e.ref,placeholder:e.placeholder})]},e.id)})),j=null===t||void 0===t?void 0:t.map((function(e){return Object(h.jsx)(P,{buttonClassName:"m-1 invisible",id:e.id,image:e.imgUrl,name:e.name,price:e.price,quantity:e.quantity,totalPrice:e.quantity*e.price},e.id)}));return Object(h.jsxs)(l.a,{fluid:!0,children:[Object(h.jsx)("h2",{children:"Order Detail"}),u,Object(h.jsx)("hr",{}),j,Object(h.jsx)("hr",{}),Object(h.jsxs)("h4",{className:"w-100 d-flex justify-content-end",children:["Total Price: HK$",Object(h.jsx)(h.Fragment,{children:t&&(null===t||void 0===t?void 0:t.length)<2?null===t||void 0===t?void 0:t[0].price:null===t||void 0===t?void 0:t.reduce((function(e,t){return e.quantity*e.price+t.quantity*t.price}))})]}),Object(h.jsxs)("div",{className:"w-100 d-flex justify-content-end my-3",children:[Object(h.jsx)(g.a,{variant:"info",className:"mx-1",onClick:function(){var e,a;r(i.uid,{name:null===s||void 0===s||null===(e=s.current)||void 0===e?void 0:e.value,address:null===o||void 0===o||null===(a=o.current)||void 0===a?void 0:a.value,cartItem:t},Date.now()).then(alert("Your order has been received!"),d.push("/history"),n([])).catch((function(e){return alert(e)}))},children:"Confirm"}),Object(h.jsx)(g.a,{variant:"danger",className:"mx-1",onClick:function(){return d.goBack()},children:"Back"})]})]})}function _(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(s.a)(r,2),o=i[0],d=i[1],u=T().currentUser,j=Object(R.g)();Object(a.useEffect)((function(){A.ref("user/"+u.uid).on("value",(function(e){var t=e.val();c(t),d(!1)}))}),[u]);var b=Object.keys(n||{}).map((function(e){return n[e]})).map((function(e){return Object(h.jsxs)(l.a,{className:"m-5",children:[Object(h.jsx)("div",{children:new Date(e.date).toUTCString()}),e.cartItem.map((function(e){return Object(h.jsx)(P,{buttonClassName:"m-1 invisible",id:e.id,image:e.imgUrl,name:e.name,price:e.price,quantity:e.quantity,totalPrice:e.quantity*e.price},e.id)})),Object(h.jsxs)("h4",{className:"w-100 d-flex justify-content-end",children:["Total Price: HK$",e.cartItem.length<2?e.cartItem[0].price:e.cartItem.reduce((function(e,t){return e.quantity*e.price+t.quantity*t.price}))]}),Object(h.jsx)("hr",{})]},e.date)}));return Object(h.jsxs)(l.a,{fluid:!0,children:[Object(h.jsx)("h1",{children:"Order History"}),!o&&b,Object(h.jsx)("div",{className:"w-100 mb-3 d-flex justify-content-end",children:Object(h.jsx)(g.a,{variant:"info",onClick:function(){return j.push("/")},children:"Back"})})]})}var ee=n(49),te=n(65),ne=["component"];function ae(e){var t=e.component,n=Object(te.a)(e,ne),a=T().currentUser;return Object(h.jsx)(R.b,Object(ee.a)(Object(ee.a)({},n),{},{render:function(e){return a?Object(h.jsx)(t,Object(ee.a)({},e)):Object(h.jsx)(R.a,{to:"/"})}}))}var ce=function(){return Object(h.jsx)(D,{children:Object(h.jsx)(k,{children:Object(h.jsx)(K.b,{children:Object(h.jsx)(l.a,{className:"App p-0",fluid:!0,children:Object(h.jsxs)(R.d,{children:[Object(h.jsx)(R.b,{exact:!0,path:"/",component:J}),Object(h.jsx)(R.b,{exact:!0,path:"/login",component:Z}),Object(h.jsx)(R.b,{exact:!0,path:"/signup",component:Z}),Object(h.jsx)(ae,{exact:!0,path:"/checkout",component:V}),Object(h.jsx)(ae,{exact:!0,path:"/history",component:_})]})})})})})};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(Y.a,{basename:"/okashishop",children:Object(h.jsx)(ce,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.7332fd50.chunk.js.map